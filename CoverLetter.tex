%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% SOURCES
% British: http://ecpmlangues.u-strasbg.fr/cover-letters-layout.html
%          https://www.dailywritingtips.com/how-to-format-a-uk-business-letter/
%          http://www.ukstudentlife.com/English/Writing.htm#BusinessLetter
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[a4paper,12pt]{article}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% PACKAGES
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{fullpage}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{textcomp}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[margin=1in]{geometry}
\usepackage{ifthen}
\usepackage{hyperref}
\usepackage{lipsum}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% PARAMETERS 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\lang}{british} % Allowed: french, british

\newcommand{\signature}{Job Larigou}
\newcommand{\telephone}{+33751215465}                
\newcommand{\email}{job.larigou@thatmail.com}
\newcommand{\senderlocation}{Porzh-Izel}

\newcommand{\sender}
    {\textbf{Job Larigou}
     \\1 straed an aod
     \\29292 Porzh-Izel
     \\France
%     \\~
%     \\+33751215465
%     \\job.larigou@thatmail.com
    }

\newcommand{\recipient}
    {\textbf{Your Dream Company}
     \\22 straed meur
     \\29999 Ploubennak
     \\France
    }

\newcommand{\object}{Application for my dream post}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% COMMANDS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[\lang]{babel}

% Opening
\ifthenelse{\equal{\lang}{french}}
    {
        \newcommand{\opening}[1]{#1\vspace{\baselineskip}}
    }
    {
        \ifthenelse{\equal{\lang}{british}}
            {
                \newcommand{\opening}[1]{#1}
            }
    }

% Closing
\ifthenelse{\equal{\lang}{french}}
    {
        \newcommand{\closing}[1]{\vspace{\baselineskip}#1}
    }
    {
        \ifthenelse{\equal{\lang}{british}}
            {                
                \newcommand{\closing}[1]
                    {
                        % \vspace{\baselineskip}
                        \begin{flushright}
                            #1
                        \end{flushright}
                    }
            }
    }

% Signature
\ifthenelse{\equal{\lang}{french}}
{
    \newcommand{\sign}{\begin{flushright}\signature\end{flushright}}
}
{
    \ifthenelse{\equal{\lang}{british}}
    {
        \newcommand{\sign}{\begin{flushright}\signature\end{flushright}}
    }
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% DOCUMENT
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
    %--------------------------------------
    % Header
    %--------------------------------------
    \ifthenelse{\equal{\lang}{french}}
    {
	    {\noindent\sender}
        
        \begin{flushright}
        	\noindent\recipient
        \end{flushright}

        \vspace{\baselineskip}
        Objet : \object

        \begin{flushright}
        	\senderlocation,
            \\
            Le \today,
        \end{flushright}
    }
    {
        \ifthenelse{\equal{\lang}{british}}
        {
       	 	\begin{flushright}
    	    	\noindent\sender
    	    \end{flushright}
    	    %
    	    \noindent\recipient
            %
            \begin{flushright}
                \today
                \vspace{\baselineskip}
            \end{flushright}

            % \vspace{\baselineskip}
            \noindent{\textbf{{Re: \object}}}
            % \vspace{\baselineskip}
        }
        {
            Unknown language ``\lang''
        }
    }

    \ifthenelse{\equal{\lang}{british}}
        {
            \setlength{\parindent}{0mm}
            \setlength{\parskip}{\baselineskip}
        }

    %--------------------------------------
    % Body
    %--------------------------------------
    \opening{Dear Sir or Madam,}

    \lipsum[1-3]

    \closing{Best Regards,}

    % Todo: hand-written signature. In English: above the typed one.

    \sign





    % \ifthenelse{\equal{\lang}{french}}
    % {
    %     Language \lang
    % }
    % {
    %     \ifthenelse{\equal{\lang}{british}}
    %     {
    %         Language british
    %     }
    %     {
    %         Unknown language ``\lang''
    %     }
    % }
\end{document}
